<!-- templates/users/profile.html -->

{% extends 'base.html' %}

{% block content %}

<style>
    .profile-stats ul {
        list-style: none;
        padding: 0;
        margin: 1.5rem 0;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        border: 2px solid #00f7ff;
        padding: 1.5rem;
    }

    .profile-stats ul li {
        padding: 0.7rem 0;
        font-size: 1.2rem;
        color: #e2e8f0;
        transition: color 0.3s ease;
    }

    .profile-stats ul li:hover {
        color: #00f7ff;
    }

    .profile-stats ul ul {
        margin-left: 2rem;
        border-left: 3px solid #ff007a;
        padding-left: 1.5rem;
    }

    .profile-stats ul ul li {
        font-size: 1.1rem;
        color: #cbd5e1;
    }

    .profile-actions {
        margin-top: 2rem;
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }

    .profile-actions p {
        flex: 1 1 100%;
    }

    .profile-actions .btn {
        flex: 1 1 auto;
    }

    @media (max-width: 600px) {
        .profile-stats ul li {
            font-size: 1rem;
        }

        .profile-actions .btn {
            flex: 1 1 100%;
            text-align: center;
        }
    }
</style>

<h1>Профиль: {{ user.username }}</h1>
<p>Email: {{ user.email }}</p>

<h2>Статистика</h2>
<ul>
    <li>Всего создано лотов: {{ stats.total_lots }}</li>
    <ul>
        <li>Активных лотов: {{ stats.active_lots }}</li>
        <li>Завершенных лотов: {{ stats.finished_lots }}</li>
    </ul>
    <li>Участвовал в лотах: {{ stats.participated_lots }}</li>
    <ul>
        <li>Потрачено денег: {{ stats.total_spent|floatformat:2 }} руб.</li>
        <li>Сделано ставок: {{ stats.total_bids }}</li>
        <li>Выиграно лотов: {{ stats.won_lots }}</li>
    </ul>
    <li>Оставлено комментариев: {{ stats.total_comments }}</li>
</ul>

<h2>Сменить пароль</h2>
<p><a href="{% url 'password_change' %}" class="btn btn-secondary">Сменить пароль</a></p>

<h2>Мои действия</h2>
<p><a href="{% url 'participation_history' %}" class="btn btn-info">История участия</a></p>
<p><a href="{% url 'win_history' %}" class="btn btn-info">Выигранные и топ-3 лоты</a></p>
<p><a href="{% url 'user_lots' %}" class="btn btn-info">Мои лоты</a></p>
{% endblock %}